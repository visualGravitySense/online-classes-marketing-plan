<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü–∞–Ω–µ–ª—å –í–ª–∞–¥–µ–ª—å—Ü–∞ - UX/UI Academy</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        }

        .header h1 {
            font-size: 2.5em;
            background: linear-gradient(45deg, #667eea, #764ba2);
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
        }

        .header-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .stat-card {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 10px 30px rgba(79, 172, 254, 0.3);
            transition: transform 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-5px);
        }

        .stat-value {
            font-size: 2.5em;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .dashboard-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        .card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
        }

        .card:hover {
            transform: translateY(-2px);
        }

        .card h3 {
            font-size: 1.5em;
            margin-bottom: 20px;
            color: #667eea;
        }

        .revenue-chart-container {
            position: relative;
            height: 220px;
            width: 100%;
        }

        .courses-chart-container {
            position: relative;
            height: 200px;
            width: 100%;
        }

        .kpi-chart-container {
            position: relative;
            height: 200px;
            width: 100%;
        }

        .quick-actions {
            display: grid;
            gap: 15px;
        }

        .action-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 20px;
            border-radius: 12px;
            cursor: pointer;
            font-size: 1.1em;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .action-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.6);
        }

        .bottom-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 30px;
        }

        .table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
        }

        .table th,
        .table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #eee;
        }

        .table th {
            background: #f8f9ff;
            font-weight: 600;
            color: #667eea;
        }

        .status-active {
            color: #27ae60;
            font-weight: 600;
        }

        .status-pending {
            color: #f39c12;
            font-weight: 600;
        }

        .profit-indicator {
            display: flex;
            align-items: center;
            gap: 10px;
            margin: 20px 0;
        }

        .profit-arrow {
            font-size: 2em;
            color: #27ae60;
        }

        .profit-text {
            font-size: 1.2em;
            font-weight: 600;
            color: #27ae60;
        }

        .financial-summary {
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
            color: white;
            padding: 25px;
            border-radius: 15px;
            margin: 20px 0;
        }

        .financial-item {
            display: flex;
            justify-content: space-between;
            margin: 10px 0;
            font-size: 1.1em;
        }

        .kpi-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .kpi-item {
            text-align: center;
            padding: 20px;
            background: #f8f9ff;
            border-radius: 12px;
            border-left: 4px solid #667eea;
        }

        .kpi-value {
            font-size: 2em;
            font-weight: bold;
            color: #667eea;
        }

        .kpi-label {
            font-size: 0.9em;
            color: #666;
            margin-top: 5px;
        }

        @media (max-width: 768px) {
            .dashboard-grid {
                grid-template-columns: 1fr;
            }
            
            .bottom-grid {
                grid-template-columns: 1fr;
            }
            
            .header-stats {
                grid-template-columns: 1fr;
            }

            .revenue-chart-container {
                height: 200px;
            }

            .courses-chart-container {
                height: 180px;
            }

            .kpi-chart-container {
                height: 180px;
            }

            .card {
                padding: 20px;
            }

            .header {
                padding: 20px;
            }
        }

        @media (max-width: 480px) {
            .revenue-chart-container {
                height: 180px;
            }

            .courses-chart-container {
                height: 160px;
            }

            .kpi-chart-container {
                height: 160px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üíº –ü–∞–Ω–µ–ª—å –í–ª–∞–¥–µ–ª—å—Ü–∞ - UX/UI Academy</h1>
            <p style="font-size: 1.2em; color: #666;">–ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –≤–∞—à–µ–≥–æ –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–æ–≥–æ –±–∏–∑–Ω–µ—Å–∞</p>
            
            <div class="header-stats">
                <div class="stat-card">
                    <div class="stat-value" id="totalRevenue">‚ÇΩ2,847,500</div>
                    <div class="stat-label">–û–±—â–∞—è –≤—ã—Ä—É—á–∫–∞</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="totalStudents">1,247</div>
                    <div class="stat-label">–í—Å–µ–≥–æ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="activecourses">12</div>
                    <div class="stat-label">–ê–∫—Ç–∏–≤–Ω—ã—Ö –∫—É—Ä—Å–æ–≤</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="profitMargin">68%</div>
                    <div class="stat-label">–ú–∞—Ä–∂–∏–Ω–∞–ª—å–Ω–æ—Å—Ç—å</div>
                </div>
            </div>
        </div>

        <div class="dashboard-grid">
            <div class="card">
                <h3>üìà –î–∏–Ω–∞–º–∏–∫–∞ –¥–æ—Ö–æ–¥–æ–≤ –∏ –ø—Ä–∏–±—ã–ª–∏</h3>
                <div class="profit-indicator">
                    <span class="profit-arrow">‚ÜóÔ∏è</span>
                    <span class="profit-text">–ü—Ä–∏–±—ã–ª—å –≤—ã—Ä–æ—Å–ª–∞ –Ω–∞ 34% –∑–∞ –∫–≤–∞—Ä—Ç–∞–ª</span>
                </div>
                <div class="revenue-chart-container">
                    <canvas id="revenueChart"></canvas>
                </div>
                
                <div class="financial-summary">
                    <h4 style="margin-bottom: 15px;">üí∞ –§–∏–Ω–∞–Ω—Å–æ–≤–∞—è —Å–≤–æ–¥–∫–∞ –∑–∞ –º–µ—Å—è—Ü</h4>
                    <div class="financial-item">
                        <span>–í–∞–ª–æ–≤–∞—è –≤—ã—Ä—É—á–∫–∞:</span>
                        <span id="monthlyGrossRevenue">‚ÇΩ485,700</span>
                    </div>
                    <div class="financial-item">
                        <span>–û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã:</span>
                        <span id="monthlyExpenses">‚ÇΩ156,200</span>
                    </div>
                    <div class="financial-item">
                        <span><strong>–ß–∏—Å—Ç–∞—è –ø—Ä–∏–±—ã–ª—å:</strong></span>
                        <span><strong id="monthlyNetProfit">‚ÇΩ329,500</strong></span>
                    </div>
                </div>
            </div>

            <div class="card">
                <h3>üöÄ –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è</h3>
                <div class="quick-actions">
                    <button class="action-btn" onclick="location.href='/manage-courses'">–ó–∞–ø—É—Å—Ç–∏—Ç—å –Ω–æ–≤—ã–π –∫—É—Ä—Å</button>
                    <button class="action-btn" onclick="location.href='/financial-report'">–î–µ—Ç–∞–ª—å–Ω–∞—è —Ñ–∏–Ω–∞–Ω—Å–æ–≤–∞—è –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç—å</button>
                    <button class="action-btn" onclick="location.href='/manage-team'">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥–æ–π</button>
                    <button class="action-btn" onclick="location.href='/manage-campaigns'">–ó–∞–ø—É—Å—Ç–∏—Ç—å —Ä–µ–∫–ª–∞–º–Ω—É—é –∫–∞–º–ø–∞–Ω–∏—é</button>
                    <button class="action-btn" onclick="location.href='/student-analytics'">–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤</button>
                    <button class="action-btn" onclick="location.href='/partner-program'">–ü–∞—Ä—Ç–Ω–µ—Ä—Å–∫–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞</button>
                </div>

                <div class="kpi-grid">
                    <div class="kpi-item">
                        <div class="kpi-value" id="kpiSatisfaction">94%</div>
                        <div class="kpi-label">–£–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–µ–Ω–Ω–æ—Å—Ç—å</div>
                    </div>
                    <div class="kpi-item">
                        <div class="kpi-value" id="kpiCompletion">87%</div>
                        <div class="kpi-label">–ó–∞–≤–µ—Ä—à–∞–µ–º–æ—Å—Ç—å</div>
                    </div>
                    <div class="kpi-item">
                        <div class="kpi-value" id="kpiLtv">‚ÇΩ38,450</div>
                        <div class="kpi-label">LTV —Å—Ç—É–¥–µ–Ω—Ç–∞</div>
                    </div>
                    <div class="kpi-item">
                        <div class="kpi-value" id="kpiCac">‚ÇΩ4,200</div>
                        <div class="kpi-label">CAC</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="bottom-grid">
            <div class="card">
                <h3>üë®‚Äçüéì –ü–æ—Å–ª–µ–¥–Ω–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤</h3>
                <table class="table">
                    <thead>
                        <tr>
                            <th>–°—Ç—É–¥–µ–Ω—Ç</th>
                            <th>–ö—É—Ä—Å</th>
                            <th>–°—Ç–∞—Ç—É—Å</th>
                            <th>–û–ø–ª–∞—Ç–∞</th>
                        </tr>
                    </thead>
                    <tbody id="studentsTable">
                        <tr>
                            <td>–ê–Ω–Ω–∞ –ü–µ—Ç—Ä–æ–≤–∞</td>
                            <td>UX/UI Pro</td>
                            <td class="status-active">–ê–∫—Ç–∏–≤–µ–Ω</td>
                            <td>‚ÇΩ45,000</td>
                        </tr>
                        <tr>
                            <td>–î–º–∏—Ç—Ä–∏–π –°–æ–∫–æ–ª–æ–≤</td>
                            <td>Mobile Design</td>
                            <td class="status-active">–ê–∫—Ç–∏–≤–µ–Ω</td>
                            <td>‚ÇΩ35,000</td>
                        </tr>
                        <tr>
                            <td>–ï–ª–µ–Ω–∞ –ö—É–∑–Ω–µ—Ü–æ–≤–∞</td>
                            <td>UX Research</td>
                            <td class="status-pending">–û–∂–∏–¥–∞–Ω–∏–µ</td>
                            <td>‚ÇΩ25,000</td>
                        </tr>
                        <tr>
                            <td>–ú–∏—Ö–∞–∏–ª –í–æ–ª–∫–æ–≤</td>
                            <td>Design Systems</td>
                            <td class="status-active">–ê–∫—Ç–∏–≤–µ–Ω</td>
                            <td>‚ÇΩ55,000</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="card">
                <h3>üìä –¢–æ–ø –∫—É—Ä—Å—ã –ø–æ –ø—Ä–∏–±—ã–ª—å–Ω–æ—Å—Ç–∏</h3>
                <div class="courses-chart-container">
                    <canvas id="coursesChart"></canvas>
                </div>
                
                <div style="margin-top: 20px;">
                    <h4 style="color: #667eea; margin-bottom: 15px;">üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è —Ä–æ—Å—Ç–∞ –ø—Ä–∏–±—ã–ª–∏:</h4>
                    <ul style="line-height: 1.8; color: #555;">
                        <li><strong>–ü–æ–¥–Ω—è—Ç—å —Ü–µ–Ω—ã –Ω–∞ UX/UI Pro</strong> - –≤—ã—Å–æ–∫–∏–π —Å–ø—Ä–æ—Å (+15%)</li>
                        <li><strong>–î–æ–±–∞–≤–∏—Ç—å –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ –ø–∞–∫–µ—Ç—ã</strong> - –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª +40% –∫ –≤—ã—Ä—É—á–∫–µ</li>
                        <li><strong>–°–æ–∑–¥–∞—Ç—å VIP-–∫—É—Ä—Å</strong> –∑–∞ ‚ÇΩ85,000+ –¥–ª—è —Ç–æ–ø-—Å–µ–≥–º–µ–Ω—Ç–∞</li>
                        <li><strong>–ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∫–ª–∞–º—É</strong> Mobile Design –∫—É—Ä—Å–∞</li>
                    </ul>
                </div>
            </div>

            <div class="card">
                <h3>üíº –ö–ª—é—á–µ–≤—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –±–∏–∑–Ω–µ—Å–∞</h3>
                <div class="kpi-chart-container">
                    <canvas id="kpiChart"></canvas>
                </div>
                
                <div style="margin-top: 20px; padding: 20px; background: #f8f9ff; border-radius: 12px;">
                    <h4 style="color: #667eea; margin-bottom: 10px;">üéØ –¶–µ–ª–∏ –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π –∫–≤–∞—Ä—Ç–∞–ª:</h4>
                    <div style="display: grid; gap: 10px;">
                        <div>üìà –£–≤–µ–ª–∏—á–∏—Ç—å –≤—ã—Ä—É—á–∫—É –¥–æ ‚ÇΩ3.5–ú (+23%)</div>
                        <div>üë• –ü—Ä–∏–≤–ª–µ—á—å 500+ –Ω–æ–≤—ã—Ö —Å—Ç—É–¥–µ–Ω—Ç–æ–≤</div>
                        <div>üöÄ –ó–∞–ø—É—Å—Ç–∏—Ç—å 3 –Ω–æ–≤—ã—Ö –ø—Ä–µ–º–∏—É–º –∫—É—Ä—Å–∞</div>
                        <div>üí∞ –ü–æ–≤—ã—Å–∏—Ç—å –ø—Ä–∏–±—ã–ª—å–Ω–æ—Å—Ç—å –¥–æ 75%</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ –≥—Ä–∞—Ñ–∏–∫–æ–≤
        let revenueChart, coursesChart, kpiChart;

        /**
         * –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è, –∑–∞–ø—É—Å–∫–∞–µ–º–∞—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã.
         * –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –≥—Ä–∞—Ñ–∏–∫–∏ –∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ.
         * –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∏–Ω—Ç–µ—Ä–≤–∞–ª –¥–ª—è –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö.
         */
        window.onload = function() {
            initCharts();
            loadDashboardData();
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É
            setInterval(loadDashboardData, 60000);
        };

        /**
         * –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –≤—Å–µ —Ç—Ä–∏ –≥—Ä–∞—Ñ–∏–∫–∞ —Å –ø—É—Å—Ç—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏.
         * –î–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –ø–æ–∑–∂–µ –∏–∑ API.
         */
        function initCharts() {
            initRevenueChart();
            initCoursesChart();
            initKPIChart();
        }

        /**
         * –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ —Å —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–≥–æ API.
         * –í —Å–ª—É—á–∞–µ —É—Å–ø–µ—Ö–∞ –≤—ã–∑—ã–≤–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è UI.
         * –í —Å–ª—É—á–∞–µ –æ—à–∏–±–∫–∏ –≤—ã–≤–æ–¥–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –∫–æ–Ω—Å–æ–ª—å –∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É.
         */
        async function loadDashboardData() {
            try {
                const response = await fetch('http://127.0.0.1:5001/api/owner/summary');
                if (!response.ok) {
                    throw new Error(`–û—à–∏–±–∫–∞ —Å–µ—Ç–∏: ${response.status} ${response.statusText}`);
                }
                const data = await response.json();
                updateUI(data);
            } catch (error) {
                console.error("–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –¥–ª—è –¥–∞—à–±–æ—Ä–¥–∞:", error);
                displayError(error);
            }
        }

        /**
         * –û–±–Ω–æ–≤–ª—è–µ—Ç –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.
         * @param {object} data - –û–±—ä–µ–∫—Ç —Å –¥–∞–Ω–Ω—ã–º–∏ –æ—Ç API.
         */
        function updateUI(data) {
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —á–∏—Å–ª–æ–≤—ã—Ö –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π –≤ —Ö—ç–¥–µ—Ä–µ
            document.getElementById('totalRevenue').textContent = formatCurrency(data.financials.totalRevenue);
            document.getElementById('totalStudents').textContent = data.students.total.toLocaleString();
            document.getElementById('activecourses').textContent = data.courses.active;
            document.getElementById('profitMargin').textContent = `${data.financials.profitMargin}%`;

            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–π —Å–≤–æ–¥–∫–∏ –∑–∞ –º–µ—Å—è—Ü (—Ç–µ–ø–µ—Ä—å –ø–æ ID)
            document.getElementById('monthlyGrossRevenue').textContent = formatCurrency(data.financials.monthly.grossRevenue);
            document.getElementById('monthlyExpenses').textContent = formatCurrency(data.financials.monthly.expenses);
            document.getElementById('monthlyNetProfit').textContent = formatCurrency(data.financials.monthly.netProfit);

            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞—Ä—Ç–æ—á–µ–∫ KPI (—Ç–µ–ø–µ—Ä—å –ø–æ ID)
            document.getElementById('kpiSatisfaction').textContent = `${data.students.satisfaction}%`;
            document.getElementById('kpiCompletion').textContent = `${data.students.completionRate}%`;
            document.getElementById('kpiLtv').textContent = formatCurrency(data.students.ltv);
            document.getElementById('kpiCac').textContent = formatCurrency(data.students.cac);

            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ –≥—Ä–∞—Ñ–∏–∫–∞—Ö
            updateRevenueChart(data.charts.revenue);
            updateCoursesChart(data.courses.topByProfit);
            // –î–ª—è KPI-—Ä–∞–¥–∞—Ä–∞ –¥–∞–Ω–Ω—ã–µ –ø–æ–∫–∞ —Å—Ç–∞—Ç–∏—á–Ω—ã, –Ω–æ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
        }

        /**
         * –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ.
         * @param {Error} error - –û–±—ä–µ–∫—Ç –æ—à–∏–±–∫–∏.
         */
        function displayError(error) {
            const container = document.querySelector('.container');
            container.innerHTML = `<div style="text-align: center; padding: 50px; background: white; border-radius: 20px; box-shadow: 0 20px 40px rgba(0,0,0,0.1);">
                                        <h2>–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö</h2>
                                        <p>–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ API-—Å–µ—Ä–≤–µ—Ä—É. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –æ–Ω –∑–∞–ø—É—â–µ–Ω.</p>
                                        <p style="color: #d9534f; margin-top: 15px; font-family: monospace;">${error}</p>
                                   </div>`;
        }
        
        /**
         * –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç —á–∏—Å–ª–æ –≤ –¥–µ–Ω–µ–∂–Ω—É—é —Å—Ç—Ä–æ–∫—É.
         * @param {number} value - –ß–∏—Å–ª–æ.
         * @returns {string} - –°—Ç—Ä–æ–∫–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ "‚ÇΩ1,234,567".
         */
        function formatCurrency(value) {
            return '‚ÇΩ' + value.toLocaleString();
        }

        /**
         * –û–±–Ω–æ–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –Ω–∞ –≥—Ä–∞—Ñ–∏–∫–µ –¥–æ—Ö–æ–¥–æ–≤.
         * @param {object} chartData - –î–∞–Ω–Ω—ã–µ –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–∞.
         */
        function updateRevenueChart(chartData) {
            if (!revenueChart) return;
            revenueChart.data.labels = chartData.labels;
            revenueChart.data.datasets[0].data = chartData.revenue;
            revenueChart.data.datasets[1].data = chartData.profit;
            revenueChart.update();
        }
        
        /**
         * –û–±–Ω–æ–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –Ω–∞ –≥—Ä–∞—Ñ–∏–∫–µ –∫—É—Ä—Å–æ–≤.
         * @param {Array} chartData - –ú–∞—Å—Å–∏–≤ –¥–∞–Ω–Ω—ã—Ö –ø–æ –∫—É—Ä—Å–∞–º.
         */
        function updateCoursesChart(chartData) {
            if (!coursesChart) return;
            coursesChart.data.labels = chartData.map(c => c.name);
            coursesChart.data.datasets[0].data = chartData.map(c => c.share);
            coursesChart.update();
        }

        // --- –§—É–Ω–∫—Ü–∏–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –≥—Ä–∞—Ñ–∏–∫–æ–≤ ---

        function initRevenueChart() {
            const ctx = document.getElementById('revenueChart').getContext('2d');
            revenueChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: [], // –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞
                    datasets: [{
                        label: '–í—ã—Ä—É—á–∫–∞ (‚ÇΩ)',
                        data: [], // –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞
                        borderColor: '#667eea',
                        backgroundColor: 'rgba(102, 126, 234, 0.1)',
                        tension: 0.4,
                        fill: true
                    }, {
                        label: '–ü—Ä–∏–±—ã–ª—å (‚ÇΩ)',
                        data: [], // –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞
                        borderColor: '#27ae60',
                        backgroundColor: 'rgba(39, 174, 96, 0.1)',
                        tension: 0.4,
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { position: 'top', labels: { boxWidth: 12, padding: 10, font: { size: 11 } } } },
                    scales: {
                        y: { beginAtZero: true, ticks: { callback: value => '‚ÇΩ' + value.toLocaleString(), font: { size: 10 } } },
                        x: { ticks: { font: { size: 10 } } }
                    }
                }
            });
        }

        function initCoursesChart() {
            const ctx = document.getElementById('coursesChart').getContext('2d');
            coursesChart = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: [], // –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞
                    datasets: [{
                        data: [], // –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞
                        backgroundColor: ['#667eea', '#764ba2', '#4facfe', '#00f2fe', '#11998e']
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { position: 'bottom', labels: { boxWidth: 10, padding: 8, font: { size: 10 } } } }
                }
            });
        }

        function initKPIChart() {
            const ctx = document.getElementById('kpiChart').getContext('2d');
            kpiChart = new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: ['–í—ã—Ä—É—á–∫–∞', '–°—Ç—É–¥–µ–Ω—Ç—ã', '–ü—Ä–∏–±—ã–ª—å', '–ö–∞—á–µ—Å—Ç–≤–æ', '–†–æ—Å—Ç', '–£–¥–µ—Ä–∂–∞–Ω–∏–µ'],
                    datasets: [{
                        label: '–¢–µ–∫—É—â–∏–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏',
                        data: [85, 92, 88, 94, 78, 87], // –≠—Ç–∏ –¥–∞–Ω–Ω—ã–µ –ø–æ–∫–∞ –æ—Å—Ç–∞–≤–∏–º —Å—Ç–∞—Ç–∏—á–Ω—ã–º–∏
                        borderColor: '#667eea',
                        backgroundColor: 'rgba(102, 126, 234, 0.2)',
                        pointBackgroundColor: '#667eea'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { display: false } },
                    scales: { r: { beginAtZero: true, max: 100, ticks: { font: { size: 9 } }, pointLabels: { font: { size: 9 } } } }
                }
            });
        }

        // --- –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –±—ã—Å—Ç—Ä—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π (–æ—Å—Ç–∞—é—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π) ---
        function launchCourse() { alert('üöÄ –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø–∞–Ω–µ–ª—å —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ –∫—É—Ä—Å–∞...'); }
        function viewFinances() { alert('üìä –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –¥–µ—Ç–∞–ª—å–Ω–∞—è —Ñ–∏–Ω–∞–Ω—Å–æ–≤–∞—è –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç—å...'); }
        function manageTeam() { alert('üë• –ü–µ—Ä–µ—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–µ—Ä—Å–æ–Ω–∞–ª–æ–º...'); }
        function marketingCampaign() { alert('üì¢ –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ —Ä–µ–∫–ª–∞–º–Ω—ã—Ö –∫–∞–º–ø–∞–Ω–∏–π...'); }
        function studentAnalytics() { alert('üìà –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤...'); }
        function partnerProgram() { alert('ü§ù –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞—Ä—Ç–Ω–µ—Ä—Å–∫–æ–π –ø—Ä–æ–≥—Ä–∞–º–º–æ–π...'); }
    </script>
</body>
</html>